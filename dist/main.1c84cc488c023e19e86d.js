(()=>{"use strict";class t{constructor({text:t="*",color:e="white",event:n=(()=>{})}){this.content=document.createElement("button"),this.content.classList.add("button"),this.content.innerHTML=t,this.content.style.background=e,this.content.addEventListener("click",(()=>{n()}))}getContent(){return this.content}}class e{constructor(e="*",n=(()=>{})){this.content=document.createElement("li"),this.content.classList.add("item"),this.content.append(document.createElement("p").innerHTML=e),this.content.append(new t({text:"Сделано",color:"green",event:()=>{this.isDone=!0,n()}}).getContent()),this.content.append(new t({text:"Удалить",color:"red",event:()=>{this.isDelete=!0,n()}}).getContent()),this.isDone=!1,this.isDelete=!1}getContent(){return this.content}isDone(){return this.isDone}}class n{constructor(){this.content=document.createElement("ol"),this.list=[new e("Пункт 1",(()=>{this.render()})),new e("Пункт 2",(()=>{this.render()})),new e("Пункт 3",(()=>{this.render()})),new e("Пункт 4",(()=>{this.render()})),new e("Пункт 5",(()=>{this.render()}))],this.render()}getContent(){return this.content}render(){this.remove(),this.list.filter((t=>!t.isDelete)).sort(((t,e)=>t.isDone-e.isDone)).forEach((t=>{this.content.append(t.getContent())}))}remove(){for(;this.content.firstChild;)this.content.removeChild(this.content.firstChild)}add(t){this.list.push(new e(t)),this.render()}}class s{#t;get html(){return this.#t}#e;get value(){return this.#e}#n;#s=0;get id(){return this.#s}constructor(e){this.#t=document.createElement("li"),this.#t.classList.add("element");let n=document.createElement("p");n.classList.add("element__content"),n.innerHTML=e,this.#t.append(n);let s=document.createElement("div");this.#t.append(s),this.#s=Math.random(),this.#t.dataset.id=this.#s,this.#t.dataset.isDone=!1,s.append(new t({text:"Hello",color:"green",event:()=>{console.log(12345)}}).getContent()),s.append(new t({color:"tomato",event:t=>{console.log(t)}}).getContent()),this.#e=e,this.#n=!1}}class i{#t;get html(){return this.#t}constructor(){this.#t=document.createElement("div"),this.#t.classList.add("form");let t=document.createElement("input");t.classList.add("input"),this.#t.append(t);let e=document.createElement("button");e.classList.add("button","adding-button"),e.innerHTML="Добавить",this.#t.append(e)}}let o=new class{#i;#o;#t;get html(){return this.#t}constructor(){this.#t=document.createElement("section"),this.#t.classList.add("section"),this.#i=new n,this.#o=new i,this.#t.append(this.#i.getContent()),this.#t.append(this.#o.html)}activateListeners(){Array.from(this.#t.getElementsByClassName("adding-button")).forEach((t=>{t.addEventListener("click",(()=>this.#l()))}))}#l(){let t=new s(Array.from(this.#o.html.querySelectorAll("input"))[0].value);this.#i.add(t),Array.from(t.html.getElementsByClassName("button--delete")).forEach((t=>{t.addEventListener("click",(t=>{this.#i.removeById(t.target.dataset.id)}))})),Array.from(t.html.getElementsByClassName("button--ok")).forEach((t=>{t.addEventListener("click",(t=>{this.#i.sendToEndById(t.target.dataset.id)}))}))}};document.body.append(o.html),o.activateListeners()})();