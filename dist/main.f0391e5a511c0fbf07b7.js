(()=>{"use strict";class t{constructor(t){this.content=document.createElement(t)}getContent(){return this.content}}class e extends t{constructor({text:t="*",color:e="white",event:n=(()=>{})}){super("button"),this.content.classList.add("button"),this.content.innerHTML=t,this.content.style.background=e,this.content.addEventListener("click",(()=>{n()}))}}class n extends t{constructor(t="*",n=(()=>{})){super("li"),this.content.classList.add("item"),this.content.append(document.createElement("p").innerHTML=t),this.content.append(new e({text:"Сделано",color:"green",event:()=>{this.isDone=!0,n()}}).getContent()),this.content.append(new e({text:"Удалить",color:"red",event:()=>{this.isDelete=!0,n()}}).getContent()),this.isDone=!1,this.isDelete=!1}isDone(){return this.isDone}}class s extends t{constructor(){super("ol"),this.list=[new n("Пункт 1",(()=>{this.render()})),new n("Пункт 2",(()=>{this.render()})),new n("Пункт 3",(()=>{this.render()})),new n("Пункт 4",(()=>{this.render()})),new n("Пункт 5",(()=>{this.render()}))],this.render()}getContent(){return this.content}render(){this.remove(),this.list.filter((t=>!t.isDelete)).sort(((t,e)=>t.isDone-e.isDone)).forEach((t=>{t.isDone&&t.getContent().classList.add("item--done"),this.content.append(t.getContent())}))}remove(){for(;this.content.firstChild;)this.content.removeChild(this.content.firstChild)}add(t){this.list.push(new n(t)),this.render()}}class i{#t;get html(){return this.#t}#e;get value(){return this.#e}#n;#s=0;get id(){return this.#s}constructor(t){this.#t=document.createElement("li"),this.#t.classList.add("element");let n=document.createElement("p");n.classList.add("element__content"),n.innerHTML=t,this.#t.append(n);let s=document.createElement("div");this.#t.append(s),this.#s=Math.random(),this.#t.dataset.id=this.#s,this.#t.dataset.isDone=!1,s.append(new e({text:"Hello",color:"green",event:()=>{console.log(12345)}}).getContent()),s.append(new e({color:"tomato",event:t=>{console.log(t)}}).getContent()),this.#e=t,this.#n=!1}}class o{#t;get html(){return this.#t}constructor(t){this.#t=document.createElement("div"),this.#t.classList.add("form");let n=document.createElement("input");n.classList.add("input"),this.#t.append(n);let s=new e({text:"Добавить",color:"grey",event:()=>{t(n.value)}});s.getContent().classList.add("button","adding-button"),s.getContent().innerHTML="Добавить",this.#t.append(s.getContent())}}let l=new class{#i;#o;#t;get html(){return this.#t}constructor(){this.#t=document.createElement("section"),this.#t.classList.add("section"),this.#i=new s,this.#o=new o((t=>{this.#i.add(t)})),this.#t.append(this.#i.getContent()),this.#t.append(this.#o.html)}activateListeners(){Array.from(this.#t.getElementsByClassName("adding-button")).forEach((t=>{t.addEventListener("click",(()=>this.#l()))}))}#l(){let t=new i(Array.from(this.#o.html.querySelectorAll("input"))[0].value);this.#i.add(t),Array.from(t.html.getElementsByClassName("button--delete")).forEach((t=>{t.addEventListener("click",(t=>{this.#i.removeById(t.target.dataset.id)}))})),Array.from(t.html.getElementsByClassName("button--ok")).forEach((t=>{t.addEventListener("click",(t=>{this.#i.sendToEndById(t.target.dataset.id)}))}))}};document.body.append(l.html)})();